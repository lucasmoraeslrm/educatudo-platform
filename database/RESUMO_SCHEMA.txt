â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘             SCHEMA.SQL - ISOLAMENTO COMPLETO POR ESCOLA          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… O QUE ESTÃ CONFIGURADO NO SCHEMA.SQL
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. âœ… USUÃRIOS (JÃ¡ isolados)
   â””â”€ Via escola_id na tabela usuarios

2. âœ… MATÃ‰RIAS (Isolamento completo)
   â”œâ”€ Timestamps: created_at, updated_at
   â”œâ”€ Constraint: UNIQUE(escola_id, nome)
   â””â”€ ComentÃ¡rio explicativo

3. âœ… TURMAS (Isolamento completo)
   â”œâ”€ Timestamps: created_at, updated_at
   â”œâ”€ Constraint: UNIQUE(escola_id, nome, ano_letivo, serie)
   â””â”€ ComentÃ¡rio explicativo

4. âœ… DADOS DE EXEMPLO
   â”œâ”€ Escola Demo: 5 matÃ©rias + 2 turmas
   â””â”€ ColÃ©gio Exemplo: 5 matÃ©rias + 1 turma

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ CONSTRAINTS IMPORTANTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

MATERIAS:
  UNIQUE KEY unique_materia_escola (escola_id, nome)
  â†’ Impede duplicatas na mesma escola
  â†’ Permite mesmo nome em escolas diferentes

TURMAS:
  UNIQUE KEY unique_turma_escola (escola_id, nome, ano_letivo, serie)
  â†’ Impede turmas duplicadas no mesmo ano/sÃ©rie
  â†’ Permite mesmo nome em escolas diferentes

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ COMO APLICAR NO SEU BANCO REMOTO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

OPÃ‡ÃƒO 1: Banco Novo (Recomendado se ainda nÃ£o tem dados importantes)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Acesse phpMyAdmin do banco remoto
2. Delete o database "educatudo_platform" (se existir)
3. VÃ¡ em "Importar"
4. Selecione: database/schema.sql
5. Execute â–¶ï¸

OPÃ‡ÃƒO 2: Banco Existente (Se jÃ¡ tem dados)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Execute as queries abaixo no phpMyAdmin > SQL:

-- MATÃ‰RIAS: Adicionar timestamps
ALTER TABLE materias 
ADD COLUMN created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;

-- MATÃ‰RIAS: Adicionar constraint (sÃ³ se nÃ£o tiver duplicatas!)
ALTER TABLE materias 
ADD UNIQUE KEY unique_materia_escola (escola_id, nome);

-- TURMAS: Adicionar timestamps
ALTER TABLE turmas 
ADD COLUMN created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;

-- TURMAS: Adicionar constraint (sÃ³ se nÃ£o tiver duplicatas!)
ALTER TABLE turmas 
ADD UNIQUE KEY unique_turma_escola (escola_id, nome, ano_letivo, serie);

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… VALIDAÃ‡ÃƒO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Teste se funciona:

1. Criar matÃ©ria na Escola 1:
   INSERT INTO materias (escola_id, nome) VALUES (1, 'Artes');
   â†’ âœ… Deve funcionar

2. Tentar duplicar:
   INSERT INTO materias (escola_id, nome) VALUES (1, 'Artes');
   â†’ âŒ Deve dar erro (esperado!)

3. Criar na Escola 2:
   INSERT INTO materias (escola_id, nome) VALUES (2, 'Artes');
   â†’ âœ… Deve funcionar (escola diferente)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‚ CÃ“DIGO PHP JÃ PROTEGIDO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… app/Models/Materia.php - Try-catch nos mÃ©todos
âœ… app/Models/Turma.php - Try-catch nos mÃ©todos
âœ… app/Controllers/GlobalAdminController.php - ValidaÃ§Ãµes
âœ… Views/global_admin/escola-details.php - ProteÃ§Ãµes

â†’ NÃ£o Ã© necessÃ¡rio alterar cÃ³digo PHP!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ RESULTADO ESPERADO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ENTIDADE          â”‚   ESCOLA DEMO        â”‚  COLÃ‰GIO EXEMPLO   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ UsuÃ¡rios            â”‚ Independentes        â”‚ Independentes      â”‚
â”‚ MatÃ©rias            â”‚ Independentes        â”‚ Independentes      â”‚
â”‚ Turmas              â”‚ Independentes        â”‚ Independentes      â”‚
â”‚ Professores         â”‚ Independentes        â”‚ Independentes      â”‚
â”‚ Alunos              â”‚ Independentes        â”‚ Independentes      â”‚
â”‚ Pais                â”‚ Independentes        â”‚ Independentes      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cada escola Ã© totalmente isolada! ğŸ”’

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PRONTO! Apenas execute database/schema.sql no phpMyAdmin       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

